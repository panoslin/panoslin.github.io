# 林哥的厨房 闲人免进 🍳

一个功能完整、界面美观的食谱管理系统，融合了 Apple 的现代简约设计美学与自然清新的艺术风格。

## ✨ 功能特性

### 🏠 主页功能
- **分类浏览**：通过分类标签快速筛选食谱（中餐、西餐、甜点、饮品、家常菜等）
- **全文搜索**：实时搜索食谱标题、食材、制作方法和分类，支持中文搜索
- **搜索结果高亮**：匹配的关键词会高亮显示
- **瀑布流布局**：Instagram 风格的卡片布局，自动适应不同图片尺寸
- **图片懒加载**：优化性能，按需加载图片
- **侧边栏导航**：热门推荐、统计信息、分类导航、快速操作
- **购物清单集成**：一键添加食谱到购物清单，实时显示已选数量

### 📄 详情页功能
- **完整信息展示**：食谱标题、描述、主图、食材清单、制作步骤
- **步骤图片支持**：每个制作步骤可包含对应图片
- **食材比例调整**：动态调整食材用量，支持等比例缩放
- **营养信息显示**：显示热量、蛋白质、碳水化合物、脂肪、盐含量
- **营养信息同步**：营养数据随食材比例自动调整
- **来源链接**：显示食谱来源，点击标题或快速操作可访问
- **侧边栏导航**：目录导航、相关食谱、营养信息摘要、快速操作
- **返回首页**：便捷的返回按钮

### 🛒 购物清单功能
- **一键添加**：在主页点击"加入清单"按钮添加食谱
- **自动合并**：相同食材自动合并，数量累加
- **分类管理**：食材按类别自动分组（蔬菜、水果、肉类、海鲜等）
- **购买状态**：标记已购买食材，支持批量操作
- **食谱来源**：显示每个食材来自哪些食谱
- **左滑删除**：移动端支持左滑删除食材
- **数据持久化**：使用 localStorage 保存购物清单数据
- **导出功能**：支持导出购物清单为 JSON 文件
- **统计信息**：显示总食材数、已购买、待购买、已选食谱数
- **侧边栏导航**：
  - 左侧：分类导航（点击跳转）、已选食谱列表（可移除）
  - 右侧：统计信息（含进度条）、快速操作（全部标记已购、重置状态等）

## 📁 项目结构

```
recipe_set/
├── index.html              # 主页
├── recipe_detail.html      # 食谱详情页
├── shopping_list.html      # 购物清单页面
├── recipes.json            # 食谱数据源（32个食谱）
├── css/
│   └── style.css          # 主样式文件（Spring Frost 设计风格）
├── js/
│   ├── main.js            # 主JavaScript文件
│   ├── shoppingList.js    # 购物清单核心逻辑
│   └── shoppingListPage.js # 购物清单页面逻辑
├── images/                # 图片资源文件夹
│   ├── logo.png           # 网站Logo
│   ├── favicon.png        # 网站图标
│   └── recipe_*.png       # 食谱图片
├── calculate_nutrition.py  # 营养信息计算脚本
├── parse_recipes_v2.py    # 食谱解析脚本
├── Recipe (1).md          # 原始食谱数据
└── README.md              # 项目说明文档
```

## 🚀 使用方法

### 1. 直接打开
- 使用现代浏览器（Chrome、Firefox、Safari、Edge）直接打开 `index.html`
- ⚠️ **注意**：由于使用了 `fetch` API 加载 JSON 文件，需要通过 HTTP 服务器运行，不能直接使用 `file://` 协议

### 2. 使用本地服务器（推荐）

#### 方法一：使用 Python
```bash
# Python 3
python -m http.server 8000

# Python 2
python -m SimpleHTTPServer 8000
```
然后在浏览器中访问 `http://localhost:8000`

#### 方法二：使用 Node.js
```bash
# 安装 http-server
npm install -g http-server

# 运行服务器
http-server -p 8000
```

#### 方法三：使用 VS Code
- 安装 "Live Server" 扩展
- 右键点击 `index.html`，选择 "Open with Live Server"

## 📊 数据结构

`recipes.json` 文件包含所有食谱数据（当前有 32 个食谱），每个食谱对象包含以下字段：

```json
{
  "id": 1,                              // 唯一标识符
  "title": "食谱名称",                   // 食谱标题
  "category": ["分类1", "分类2"],       // 分类数组
  "imageUrl": "images/recipe_1.png",    // 主图片路径
  "description": "食谱描述",            // 食谱描述
  "source": "https://example.com",      // 来源链接（可选）
  "ingredients": [                       // 食材数组
    {
      "name": "食材名",
      "quantity": 100,
      "unit": "克"
    }
  ],
  "instructions": [                     // 制作步骤数组
    "步骤1",
    {
      "text": "步骤2",
      "imageUrl": "images/recipe_1_step_2.png"  // 步骤图片（可选）
    }
  ],
  "nutrition": {                         // 营养信息
    "calories": 250,                     // 热量（卡路里）
    "protein": 15,                      // 蛋白质（克）
    "carbs": 30,                        // 碳水化合物（克）
    "fat": 8,                           // 脂肪（克）
    "salt": 2.5                         // 盐（克）
  }
}
```

## 🎨 设计特色

### Spring Frost 设计风格
- **色彩方案**：Apple 的中性色调（白色、浅灰、深灰）作为主色调，配合 Spring Frost 的柔和春色（淡草绿、浅蓝、淡粉、霜白色）作为点缀
- **布局结构**：Apple 的极简主义与 Spring Frost 的自然流动相结合
- **字体排版**：清晰的无衬线字体（SF Pro、Helvetica Neue）用于正文，艺术化的衬线或手写字体用于标题
- **图标图形**：Apple 的简洁线性图标，配合 Spring Frost 的自然元素（叶片纹理、霜花图案、柔和笔触）
- **交互动画**：Apple 的流畅过渡与 Spring Frost 的柔和渐变效果

### 响应式设计
- **桌面端**：三栏布局（左侧边栏 + 主内容 + 右侧边栏）
- **平板端**：两栏布局（侧边栏 + 主内容）
- **移动端**：单栏布局，侧边栏自动隐藏

## 🛠️ 技术栈

- **HTML5**：语义化标签，无障碍访问
- **CSS3**：
  - Flexbox 和 Grid 布局
  - CSS 变量（自定义属性）
  - 响应式设计（媒体查询）
  - CSS 多列布局（瀑布流）
  - 过渡动画和变换
  - `backdrop-filter` 毛玻璃效果
- **JavaScript (ES6+)**：
  - Fetch API 数据加载
  - DOM 操作和事件处理
  - localStorage 数据持久化
  - Intersection Observer API（图片懒加载）
  - 触摸事件处理（左滑删除）

## 📝 添加新食谱

### 方法一：手动添加
1. 打开 `recipes.json` 文件
2. 在数组中添加新的食谱对象
3. 确保 `id` 唯一（当前最大 ID 为 32）
4. 将图片放入 `images/` 文件夹
5. 保存文件后刷新浏览器即可看到新食谱


### 计算营养信息
1. 运行 `calculate_nutrition.py` 脚本
2. 脚本会根据食材清单自动计算营养信息
3. 营养数据会写入 `recipes.json` 文件

## 🎯 主要功能说明

### 搜索功能
- 支持实时搜索，输入关键词即时显示结果
- 搜索范围包括：标题、描述、食材名称、制作步骤、分类
- 匹配的关键词会高亮显示

### 分类筛选
- 点击分类按钮可快速筛选
- 支持"全部"和"清除筛选"功能
- 分类标签显示在食谱卡片上

### 食材比例调整
- 在详情页可以调整食材用量
- 支持等比例缩放（0.5x、1x、1.5x、2x）
- 营养信息会同步调整

### 购物清单
- 在主页点击"加入清单"按钮添加食谱
- 相同食材自动合并，数量累加
- 食材按类别自动分组
- 支持标记已购买状态
- 支持左滑删除（移动端）
- 数据保存在浏览器 localStorage 中

## 🌐 浏览器兼容性

- ✅ Chrome/Edge (最新版本)
- ✅ Firefox (最新版本)
- ✅ Safari (最新版本)
- ✅ 移动端浏览器（iOS Safari、Chrome Mobile）

## 📱 移动端优化

- 响应式布局，完美适配各种屏幕尺寸
- 触摸友好的交互设计
- 左滑删除功能
- 图片懒加载优化性能
- 侧边栏在移动端自动隐藏

## 🔧 自定义样式

所有样式都在 `css/style.css` 文件中，使用 CSS 变量便于自定义：

### 颜色变量
- `--primary-color`: 主色调
- `--spring-green-*`: 春季绿色系
- `--spring-blue-*`: 春季蓝色系
- `--spring-pink-*`: 春季粉色系
- `--apple-gray-*`: Apple 灰色系

### 间距变量
- `--spacing-*`: 统一的间距系统

### 字体变量
- `--font-*`: 字体大小和粗细

修改这些变量即可快速改变整体配色方案和布局。

## 📦 依赖项

本项目为纯前端项目，无需安装任何依赖：
- 无需 Node.js 包管理
- 无需构建工具
- 直接使用现代浏览器原生 API

## ⚠️ 注意事项

1. **图片资源**：确保图片文件存在于 `images/` 文件夹中，路径与 `recipes.json` 中的 `imageUrl` 匹配
2. **数据加载**：确保 `recipes.json` 文件与 HTML 文件在同一服务器上
3. **浏览器支持**：需要支持 ES6+ 和 Fetch API 的现代浏览器
4. **本地存储**：购物清单数据保存在浏览器 localStorage 中，清除浏览器数据会丢失

## 🎉 已完成的功能

- ✅ 食谱浏览和搜索
- ✅ 分类筛选
- ✅ 食谱详情展示
- ✅ 图片懒加载
- ✅ 瀑布流布局
- ✅ 食材比例调整
- ✅ 营养信息显示和计算
- ✅ 购物清单功能
- ✅ 数据持久化
- ✅ 响应式设计
- ✅ 侧边栏导航
- ✅ 食谱来源链接
- ✅ 左滑删除功能
- ✅ 导出购物清单

## 📄 许可证

本项目仅供学习和个人使用。

---

**林哥的厨房 闲人免进** - 发现美食，分享快乐 🍳✨
