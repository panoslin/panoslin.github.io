<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="林哥的厨房 闲人免进 - 发现和分享美味食谱">
    <title>林哥的厨房 闲人免进 - 主页</title>
    <link rel="icon" type="image/png" href="images/favicon.png">
    <link rel="apple-touch-icon" href="images/favicon.png">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- 页面头部 -->
    <header class="header" id="main-header">
        <div class="header-content">
            <!-- 移动端侧边栏触发按钮 -->
            <button class="mobile-sidebar-toggle mobile-sidebar-toggle-left" 
                    aria-label="打开左侧边栏" 
                    aria-expanded="false" 
                    aria-controls="sidebar-left"
                    onclick="toggleMobileSidebar('left')">
                <span class="hamburger-icon">☰</span>
            </button>
            <div class="header-logo-title">
                <img src="images/logo.png" alt="林哥的厨房 闲人免进 Logo" class="site-logo">
                <h1>林哥的厨房 闲人免进</h1>
            </div>
            <!-- 移动端右侧边栏触发按钮 -->
            <button class="mobile-sidebar-toggle mobile-sidebar-toggle-right" 
                    aria-label="打开右侧边栏" 
                    aria-expanded="false" 
                    aria-controls="sidebar-right"
                    onclick="toggleMobileSidebar('right')">
                <span class="hamburger-icon">☰</span>
            </button>
            <p class="header-subtitle">发现美食，分享快乐</p>
        </div>
    </header>

    <!-- Menu Bar (滚动时显示的简洁菜单栏) -->
    <div class="menu-bar" id="menu-bar">
        <div class="menu-bar-content">
            <button class="menu-bar-btn sidebar-toggle-left" 
                    aria-label="打开左侧边栏" 
                    aria-expanded="false" 
                    aria-controls="sidebar-left"
                    onclick="toggleMobileSidebar('left')"
                    title="左侧边栏">
                <img src="images/sidebar-left-icon.png" alt="左侧边栏" class="sidebar-icon">
            </button>
            <a href="index.html" class="menu-bar-btn menu-bar-home" title="返回主页">
                <span class="home-icon">🏠</span>
            </a>
            <button class="menu-bar-btn sidebar-toggle-right" 
                    aria-label="打开右侧边栏" 
                    aria-expanded="false" 
                    aria-controls="sidebar-right"
                    onclick="toggleMobileSidebar('right')"
                    title="右侧边栏">
                <img src="images/sidebar-right-icon.png" alt="右侧边栏" class="sidebar-icon">
            </button>
        </div>
    </div>

    <!-- 搜索区域 -->
    <section class="search-section">
        <div class="search-container">
            <span class="search-icon">🔍</span>
            <input 
                type="text" 
                id="search-input" 
                class="search-input" 
                placeholder="搜索食谱、食材、制作方法..."
                autocomplete="off"
            >
        </div>
    </section>

    <!-- 分类筛选区域 -->
    <section class="category-section">
        <h2 class="category-title">分类浏览</h2>
        <div id="category-filters" class="category-filters">
            <!-- 分类按钮将通过JavaScript动态生成 -->
        </div>
    </section>

    <!-- 主内容区域 -->
    <main class="main-content">
        <div class="content-layout">
            <!-- 左侧边栏（桌面端显示） -->
            <aside class="sidebar sidebar-left" id="sidebar-left" aria-label="左侧边栏">
                <button class="sidebar-close-btn" 
                        aria-label="关闭侧边栏" 
                        onclick="toggleMobileSidebar('left')">
                    <span>✕</span>
                </button>
                <div class="sidebar-widget">
                    <h3 class="sidebar-title">🔥 热门推荐</h3>
                    <div id="popular-recipes" class="popular-recipes">
                        <!-- 热门食谱将通过JavaScript动态生成 -->
                    </div>
                </div>
                <div class="sidebar-widget">
                    <h3 class="sidebar-title">📊 统计信息</h3>
                    <div id="stats-info" class="stats-info">
                        <!-- 统计信息将通过JavaScript动态生成 -->
                    </div>
                </div>
            </aside>

            <!-- 主内容区 -->
            <div class="content-main">
                <div id="recipes-grid" class="recipes-grid">
                    <!-- 食谱卡片将通过JavaScript动态生成 -->
                    <div class="loading">加载中</div>
                </div>
            </div>

            <!-- 右侧边栏（桌面端显示） -->
            <aside class="sidebar sidebar-right" id="sidebar-right" aria-label="右侧边栏">
                <button class="sidebar-close-btn" 
                        aria-label="关闭侧边栏" 
                        onclick="toggleMobileSidebar('right')">
                    <span>✕</span>
                </button>
                <div class="sidebar-widget">
                    <h3 class="sidebar-title">🏷️ 所有分类</h3>
                    <div id="all-categories" class="all-categories">
                        <!-- 所有分类将通过JavaScript动态生成 -->
                    </div>
                </div>
                <div class="sidebar-widget">
                    <h3 class="sidebar-title">💡 快速操作</h3>
                    <div class="quick-actions">
                        <a href="shopping_list.html" class="quick-action-btn" id="shopping-list-btn">
                            <span class="action-icon">🛒</span>
                            <span class="action-text">购物清单</span>
                            <span class="shopping-list-badge" style="display: none;">0</span>
                        </a>
                        <button class="quick-action-btn" onclick="scrollToTop()">
                            <span class="action-icon">⬆️</span>
                            <span class="action-text">回到顶部</span>
                        </button>
                        <button class="quick-action-btn" onclick="clearSearch()">
                            <span class="action-icon">🔄</span>
                            <span class="action-text">清除筛选</span>
                        </button>
                    </div>
                </div>
            </aside>
        </div>
    </main>

    <!-- 移动端侧边栏遮罩层 -->
    <div class="sidebar-overlay" 
         id="sidebar-overlay" 
         aria-hidden="true"
         onclick="closeAllMobileSidebars()"></div>

    <!-- JavaScript文件 -->
    <script src="js/shoppingList.js"></script>
    <script src="js/main.js"></script>
    <script>
        // 页面加载完成后更新购物清单按钮状态
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof updateShoppingListButton !== 'undefined') {
                setTimeout(updateShoppingListButton, 500);
            }
        });
    </script>
</body>
</html>
